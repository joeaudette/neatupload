<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<configSections>
		<sectionGroup name="system.web">
<!-- Under .NET 2.0, use this instead:
			<section name="neatUpload" requirePermission="false" type="Brettle.Web.NeatUpload.ConfigSectionHandler, Brettle.Web.NeatUpload" allowLocation="true" />
-->
			<section name="neatUpload" type="Brettle.Web.NeatUpload.ConfigSectionHandler, Brettle.Web.NeatUpload" allowLocation="true" />
		</sectionGroup>
	</configSections>
	<system.web>
<!--
		<trust level="Medium" />
-->
		<compilation debug="true" />
		<trace enabled="false" requestLimit="5000" pageOutput="true" traceMode="SortByTime" localOnly="false">
		</trace>
		<httpRuntime useFullyQualifiedRedirectUrl="true" />
		<httpModules>
			<add name="UploadHttpModule" type="Brettle.Web.NeatUpload.UploadHttpModule, Brettle.Web.NeatUpload" />
		</httpModules>
		<customErrors mode="Off">
			<error statusCode="413" redirect="~/NeatUpload/Error413.aspx" />
		</customErrors>
		<neatUpload useHttpModule="false" maxNormalRequestLength="4096" maxRequestLength="2097151" defaultProvider="FilesystemUploadStorageProvider">
			<providers>
				<add name="FilesystemUploadStorageProvider" type="Brettle.Web.NeatUpload.FilesystemUploadStorageProvider, Brettle.Web.NeatUpload" />
			</providers>
		</neatUpload>
		<!--
		<sessionState mode="Off" cookieless="false" stateConnectionString="tcpip=127.0.0.1:42424"/>
		<sessionState mode="StateServer" cookieless="false" stateConnectionString="tcpip=127.0.0.1:42424"/>
		-->
	</system.web>
	<location path="Brettle.Web.NeatUpload/Demo.aspx">
		<system.web>
			<neatUpload useHttpModule="true" />
			<httpRuntime maxRequestLength="2097151" executionTimeout="3600" useFullyQualifiedRedirectUrl="true" />
		</system.web>
	</location>
    <system.webServer>
        <modules>
            <add name="UploadHttpModule" type="Brettle.Web.NeatUpload.UploadHttpModule, Brettle.Web.NeatUpload" preCondition="managedHandler" />
        </modules>
        <validation validateIntegratedModeConfiguration="false" />
    </system.webServer>	
<!--
	<appSettings>
	  <add key="NeatUpload.Logger" value="ConsoleLogger"/>
	</appSettings>
-->
</configuration>
